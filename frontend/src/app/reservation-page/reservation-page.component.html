<app-public-navbar></app-public-navbar>
<div class="reservation-page container-fluid bg-dark">
  <h1 class="text-center my-4">DOVRŠITE REZERVACIJU!</h1>

  <div class="row">
    <div class="col-md-6 text-center">
      <img
        src="/MojStolFrontend/src/assets/restaurant-placeholder.png"
        alt="Restaurant"
        class="img-fluid rounded"
      />
      <div class="mt-3">
        <h4>{{ restaurant?.name }}</h4>
        <p>{{ restaurant?.description }}</p>
      </div>
    </div>

    <div class="col-md-6">
      <form (ngSubmit)="submitReservation()">
        <div class="mb-3">
          <input
            type="text"
            class="form-control"
            [class.is-invalid]="errors['name']"
            placeholder="Ime i prezime"
            [(ngModel)]="reservation.name"
            name="name"
            required
          />
          <span
            *ngIf="errors['name']"
            class="text-danger ms-2"
            [title]="errors['name']"
            >⚠</span
          >
          <div *ngIf="errors['name']" class="invalid-feedback d-block">
            {{ errors["name"] }}
          </div>
        </div>

        <div class="row">
          <div class="col-md-6 mb-3">
            <input
              type="date"
              class="form-control"
              [class.is-invalid]="errors['date']"
              [(ngModel)]="reservation.reservationDate"
              name="date"
              required
            />
            <span
              *ngIf="errors['date']"
              class="text-danger ms-2"
              [title]="errors['date']"
              >⚠</span
            >
            <div *ngIf="errors['date']" class="invalid-feedback d-block">
              {{ errors["date"] }}
            </div>
          </div>
          <div class="col-md-6 mb-3">
            <input
              type="time"
              class="form-control"
              [class.is-invalid]="errors['time']"
              [(ngModel)]="reservation.reservationTime"
              name="time"
              required
            />
            <span
              *ngIf="errors['time']"
              class="text-danger ms-2"
              [title]="errors['time']"
              >⚠</span
            >
            <div *ngIf="errors['time']" class="invalid-feedback d-block">
              {{ errors["time"] }}
            </div>
          </div>
        </div>

        <div class="d-flex align-items-center mb-3">
          <label class="me-3">Stol za</label>
          <button
            type="button"
            class="btn btn-danger"
            (click)="updateGuestCount(-1)"
            [disabled]="reservation.numberOfPersons <= 1"
          >
            -
          </button>
          <span class="mx-3" [class.is-invalid]="errors['numberOfPersons']">
            {{ reservation.numberOfPersons }}
          </span>
          <button
            type="button"
            class="btn btn-danger"
            (click)="updateGuestCount(1)"
          >
            +
          </button>
          <label class="ms-3">osobe</label>
          <span
            *ngIf="errors['numberOfPersons']"
            class="text-danger ms-2"
            [title]="errors['numberOfPersons']"
            >⚠</span
          >
          <div
            *ngIf="errors['numberOfPersons']"
            class="invalid-feedback d-block"
          >
            {{ errors["numberOfPersons"] }}
          </div>
        </div>

        <div class="mb-3">
          <input
            type="email"
            class="form-control"
            [class.is-invalid]="errors['email']"
            placeholder="Email"
            [(ngModel)]="reservation.email"
            name="email"
            required
          />
          <span
            *ngIf="errors['email']"
            class="text-danger ms-2"
            [title]="errors['email']"
            >⚠</span
          >
          <div *ngIf="errors['email']" class="invalid-feedback d-block">
            {{ errors["email"] }}
          </div>
        </div>

        <div class="mb-3">
          <input
            type="tel"
            class="form-control"
            [class.is-invalid]="errors['phone']"
            placeholder="Broj telefona"
            [(ngModel)]="reservation.phone"
            name="phone"
            required
          />
          <span
            *ngIf="errors['phone']"
            class="text-danger ms-2"
            [title]="errors['phone']"
            >⚠</span
          >
          <div *ngIf="errors['phone']" class="invalid-feedback d-block">
            {{ errors["phone"] }}
          </div>
        </div>

        <div class="text-center">
          <button type="submit" class="btn btn-danger">Rezerviši</button>
        </div>
      </form>
    </div>
  </div>
</div>
<app-footer></app-footer>
